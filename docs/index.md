## What is Turn-based Combat?

The turn-based system should be a kind of gameplay in which "both sides of the battle issue instructions in their respective rounds(turn) to conduct a battle or game"

## Turn-based Combat
- turn-by-turn
- Synchronized turn-based
- Real-time/semi-real-time turn-based

### turn-by-turn
All players (including real players and computer players) take turns to hand and issue game instructions in turn. When any player performs an operation, the other players can only wait.

<p align="center">
  <img src="https://www.gamerfocus.co/wp-content/uploads/2014/03/hearthstone-heroes-of-warcraft-sale-fase-beta-oficial-parche-1.jpg"> 
</p>

### Synchronized turn-based
When the game is in progress, each round consists of two stages: instruction issuance and actual execution. In the instruction issuance stage, all players issue their own instructions, but it does not take effect immediately, but after entering the actual execution stage, according to the previous instructions issued by all players. to execute the game process.

<p align="center">
  <img src="https://trucosdescargas.com/wp-content/uploads/2021/08/TemTem-combate.jpg.webp"> 
</p>

### Real-time/semi-real-time turn-based
There are many improved variants of the above two turn-based systems, which are classified into one category here, but in fact, they will contain a variety of subdivisions, some of which will not stop the watch during the order issuing stage, and some will stop the watch. The action is not in turn, but according to the power gauge(A faster character's Mobility Gauge will fill up faster, resulting in more chances to do the action）

<p align="center">
  <img src="https://play-lh.googleusercontent.com/qlto7qg_PyibAeHNzdxHkFRRGBZuVi6cZE3Xxz5Hbp5LAsC-DNjXz1j5HzEIfP8tqg=w412-h220-rw"> 
</p>

The above three types of turn-based systems have a long history. Today, they all have their own advantages and disadvantages. Although some of them were originally designed to improve the shortcomings of the turn-based system, after a long period of improvement, the traditional ones are still existed and improved ones have gradually evolved into their own system, and gradually they have become a state of coexistence.

## Real-time RPG
The enemy and the player give orders at the same time, and can interfere with the result of the order issued by each of them.

<p align="center">
  <img src="https://cdn.vox-cdn.com/thumbor/W9lZ5odUwAf5r5J6XsWzj6zQ1Qk=/0x0:1920x1080/1200x0/filters:focal(0x0:1920x1080):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/10625293/god_of_war_combat_hud_1920.jpg"> 
</p>

## Turn Based Combat vs Real Time in RPGs
"If I don't move, the enemy doesn't move" vs "The enemy and I move all the time"

Turn Based Combat

<p align="center">
  <img src="https://progameguides.com/wp-content/uploads/2021/11/featured-Brilliant-Diamond-Shining-Pearl-How-Do-Double-Battles-Work.jpg"> 
</p>

Real Time in RPGs

<p align="center">
  <img src="https://www.zonammorpg.com/wp-content/uploads/2009/07/mmorpg-fantasy-nostale-screenshot3.jpg"> 
</p>

- The Real Time system has more "operability" than the turn-based system, and this "operability" can enable players to bring real life into virtual games，it can bring players a more exciting gaming experience.
- Turn Based Combat system can leave the player more time to think about the gameplay, it can even improve the player's thinking ability, and at the same time, compared to real-time games, it is more casual, and players can relax in the game.
- Compared with the Turn Based Combat system, the real-time system requires more cost in the production of the game.

## Evolution of turn-based combat systems
### 1. Xenogears - Combo System
You can make different inputs to make the character do different reaction, each input takes a different amount of AP to preform, a specific set of input sequences will make the character combo the “deathblow”, essentially a special move that does a lot more damage.

<iframe width="560" height="315" src="https://www.youtube.com/embed/yL-_0Yo4ZMQ?start=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 2. Legend of Legaia - Arts Combo System
You can say it's the natural evolution of the Xenogears system, where now you can actually combo more than one "deathblow".

<iframe width="560" height="315" src="https://www.youtube.com/embed/tfvb1gyfu_0?start=212" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 3. Valkyrie Profile - Juggling System
While still retaining the basic idea of being turn-based, adds it's own unique spin to this old formula by having each of the 4 party members be assigned to one of the 4 controller buttons, you can press each of them to up to three times to have each character do different types of attacks, and depending on which character your using, the attacks will differ and each have their own juggling techs and combo potential, and if that wasn't enough you can actually change the order of each of the 3 attacks each character gets to use adding even more combos.

<iframe width="560" height="315" src="https://www.youtube.com/embed/U-ZVgaly7WI?start=183" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 4. Legend of Dragoon - Timed Pressing aka Additions System
It's a basic system, but with the added twist of having quick-time event like button prompts, not unlike a rhythm game button prompt, and your goal is to get all the button press timed well, in which you are rewarded with not only extra hits but the full combo of the chosen move you are executing, these special attacks each have different lengths and timing, which are known as "Additions".

<iframe width="560" height="315" src="https://www.youtube.com/embed/tISOQPtNRSk?start=149" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 5. Shadow Hearts - Ring System
In this game each action will have you use a ring with a spinning needle, and in order to make a successful attack, you have to press the button at the highlighted areas of the ring exactly timed with when the needle passes through each section of the ring, not only do you have to hit the right areas but also avoid hitting the empty ones, it's an simple to understand but hard to master type of system.

<iframe width="560" height="315" src="https://www.youtube.com/embed/8kcZk5cLg2w?start=27" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 6. Radiant Historia - Manipulation System
In this game the battlefield is divided into 3x3 grid, and each of the nine squares can have one enemy in it, this is important to know, because where each character uses different attack skills that can manipulate the enemies position within the 3x3 grid, so you have skills that pull enemies to the front, while others would shove them to the side or the back and so on.

<iframe width="560" height="315" src="https://www.youtube.com/embed/gCKbwcbv6rI?start=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 7. Grandia - IP Bar System
The IP bar or aka the Initiative Bar, is basically a bar that represents a timeline, and the position of each character in it shows you how long each character will take to perform the action you chose.

<iframe width="560" height="315" src="https://www.youtube.com/embed/_wN_too4zCQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 8. Ar Tonelico - Phase System
This one is really hard to explain and it would take too long, because not only is it unique but it also uses many JRPG jargon in it. The basic idea is that you get two phases, an attack phase and a defense phase.

<iframe width="560" height="315" src="https://www.youtube.com/embed/0Dn7BwmCudo?start=62" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 9. Resonance of Fate - Blue vs Red damage System
This one is one of the easier ones to explain. Basically, before attacking, you have to set a course for your characters to run through, while running through the line that you can press the attack button at any time to trigger the actual attack, depending on what type of weapon you use, you'll deal one of two different types of damage, and knowing how to combine both is the key to winning battles.

<iframe width="560" height="315" src="https://www.youtube.com/embed/d-G3t0zS32w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 10. The Last Remnant - Union System
The union system is one where in combat instead of controlling one character each turn, you control a whole union of characters, where a union could be made out of 1 up to 5 characters, and depending on how much AP the union has, and what battle command you issue to it, the attack/spell/action of each party member changes, while you don't have direct command of what each individual character in a union does.

<iframe width="560" height="315" src="https://www.youtube.com/embed/n4ijKqs73rU?start=498" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 11. Namco X Capcom and ProjectXZone - Combo juggling System
While both games use similar combat systems, but each of them actually adds their own spin to it, by doing away with controlling the 4 characters like VP, they give you one character to control, and to compensate they gave each character a lot more moves and attacks to use on their turn, which of course brings it even more closer to looking like an actual fighting game than any of the other systems.

<iframe width="560" height="315" src="https://www.youtube.com/embed/geuPC4gslUA?start=23" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 12. SRWOG Saga: Endless Frontier - Combo juggling System
Basically what they did here is make the game even more focused than it was in NamcoXCapcom, reducing the number of playable character drastically, while increasing the number of moves each character can pull off even more than any other game that uses this system,and not only that but now you can actually tag in other character in the middle of a combo one after the other, which opens up a whole new level of combinations and crazy juggles, but that's not all, a new addition are the assist characters, which are characters that aren't playable but you can actually call them mid combo to have them come and do their own special attack.

<iframe width="560" height="315" src="https://www.youtube.com/embed/waHVFZwp8CU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 13. Last Ranker - Real-Time-Turn-Based? System
This one is really hard to explain without actually trying it first, basically the battle is done in real time, at any moment you can press one of the buttons to do the attack or skill that is linked to the button you pressed, but at the same time you have to have the needed AP (I think that's what they call it here) which is filled as time goes by and drains as you use skills and attacks, AP is represented with the green triangles under the HP bar if you are wondering.

<iframe width="560" height="315" src="https://www.youtube.com/embed/7C0Tg6qEiu4?start=18" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### 14. Fallen Legion -Real-Time Combo juggling System
While this one looks the same as the one in Valkyrie Profile, it actually has enough to distinguish it from the rest, I think the video does it's best to explain it, but to give you the main idea here, basically unlike in VP where you get your turn to attack and combo and then the enemy gets his turn to do the same, this combat system is in real time, meaning both you attack at the same time, which can be a chaotic a lot of the time, but thankfully the developer actually added things to improve this system.

<iframe width="560" height="315" src="https://www.youtube.com/embed/jJCkbI1KGy4?start=131" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Implementation requirements
- Determine your game content and storyline.
- What are the main mechanics of the game?  fighting? farming？
- Which kind of turn-based system is right for your game?
- How to define time? How to attack? When can the player defense?
- How to design some complex command sequences?
- In addition to the character's own skills, are there other tools that affect the battle? Potion? Weapon?
- How to define your enemies to perfect the difficulty of the game？

## How to implement a good turn-based system
- Emergent complexity
  - It creates complex gameplay out of a comparatively simple set of rules.
- Clarity
  - The immediate consequences of various tactical decisions are made clear to the player.
- Determinism
  - The system is sufficiently deterministic that skilled play using a proper strategy will nearly always result in victory.
- Tactical tools
  - If there is some randomness in the system (which there will be in most cases), the player has sufficient tactical tools at her disposal so that skilled play will almost always trump bad luck.

### 1. Use space
By using space in your battles, you add a new dimension to combat both figuratively and literally: the concept of attack range comes into play, and the player gains direct control of actions like fleeing and protecting weaker characters behind stronger ones.

### 2. Give the player more characters
Putting more characters under the player’s control pays great dividends in terms of tactics. More characters means that the player can be expected to handle much more involved combat scenarios, and becomes responsible for keeping more characters alive. This naturally gives rise to dilemmas about how to balance multiple objectives with minimal losses, which in turn make combat more interesting.

### 3. Specialize the characters
Make sure characters of different classes serve different battlefield roles; don’t just make them all fighters with different hit points, armor and spells.If you differentiate your classes successfully, your player will have to think carefully about which characters should perform which actions during battle.

### 4. Specialize the enemies
If every enemy is a melee bruiser with magical attacks, your player has no reason to prioritize one enemy over the others. Give enemies distinctly different capabilities, weaknesses, and battlefield roles.

### 5. Variable distance
Do not always begin battles with enemies 1 turn or less away from melee range! Spacing them out a little will give the player more flexibility to try out ranged tactics, as well as pressuring the player take cover from or flank enemy ranged units.

### 6. Directional facing
Make it so that characters are easier to hit and/or suffer additional damage when attacked from behind or the sides. Doing so amplifies the importance of positioning in close quarters.

### 7. Manipulable terrain
Let the player actually manipulate terrain during the battle. Temporary terrain creation occasionally appears in western RPGs in the form of walls of fire, walls of ice, and traps that players can place to form barriers or choke points.

### 8. Resource management
Define a specific magic value for each character, and the magic value required for each skill, or some useful tools can be used in battle, good resource management will bring different results to the battle.

### 9. Give units multiple attack options
Giving each character the option of more effective but more expensive or risky attacks expands the player’s tactical options greatly.

### 10. Support multiple objectives
This not just in the sense that your combat system should challenge the player with different win and loss conditions; I mean this in the sense that multiple different objectives (not of the win/loss variety) should be able to coexist within any given battle in your combat system.

### 11. Allow delayed attacks
Delayed attacks add a new twist to the turn-based formula, allowing characters to attack even when it isn’t their turn anymore. Counterattacks are an effective form of delayed attack. By allowing melee units to only retaliate against melee units and ranged units to only retaliate against units at range, counterattacks further complicate unit match-ups and enforce character specialization. 

### 12. A good UI
Good interface design and proper visual cues for players can improve the clarity of the game and bring players a better gaming experience

## How to implement a turn-based system in coding
### Reference
[Create a turn-based combat system](https://www.raspberrypi.com/news/create-a-turn-based-combat-system-wireframe-28/)
[Turn-Based Combat in Unity](https://www.youtube.com/watch?v=_1pz_ohupPs)
[Turn based Combat System](https://www.evennia.com/docs/latest/Turn-based-Combat-System.html)
[Making a turn-based strategy game in C++ in 72 hours](https://lchsk.com/making-a-turn-based-strategy-game-in-cpp-in-72-hours.html)

## Theory reference
[Turn-Based Combat](https://tvtropes.org/pmwiki/pmwiki.php/Main/TurnBasedCombat)
[The Evolution of Unique Turn-based Battle Systems Guide](https://www.reddit.com/r/JRPG/comments/hwdk8p/the_evolution_of_unique_turnbased_battle_systems/)
[12 ways to improve turn-based RPG combat systems](https://www.gamedeveloper.com/design/12-ways-to-improve-turn-based-rpg-combat-systems)
[Does the turn-based combat have future?](https://www.zhihu.com/question/20325535/answer/706124678)

